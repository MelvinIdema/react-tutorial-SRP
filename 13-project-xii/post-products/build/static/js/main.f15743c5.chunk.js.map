{"version":3,"sources":["Product.js","ProductsList.js","AddProductForm.js","StoreFront.js","useFetch.js","index.js"],"names":["Product","props","useState","count","setCount","details","className","name","description","disabled","onClick","ProductsList","products","map","product","onDeleteClick","id","AddProductForm","onSubmit","onFormSubmit","htmlFor","type","value","onChange","onNameChange","placeholder","onDescriptionChange","validation","StoreFront","setProducts","setName","setDescription","setValidation","post","baseUrl","loading","setLoading","get","url","Promise","resolve","reject","fetch","then","response","json","data","catch","error","body","method","headers","JSON","stringify","useFetch","event","target","preventDefault","length","console","log","err","postProduct","filter","App","render","document","querySelector"],"mappings":"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","file":"static/js/main.f15743c5.chunk.js","sourcesContent":["import React, {useState} from \"react\";\n\nexport default function Product(props) {\n    const [count, setCount] = useState(0);\n\n    const {details} = props;\n\n    function handleIncrementClick() {\n        setCount(count + 1);\n    }\n    function handleDecrementClick() {\n        if (count > 0){\n            setCount(count - 1);\n        }\n    }\n\n    if (!details){\n        return null;\n    }\n\n    return <div className=\"product\">\n        <div className=\"product-info\">\n            <h2>{details.name}</h2>\n            <p>{details.description}</p>\n        </div>\n        <div className=\"product-buttons\">\n            <button className=\"product-sub\" disabled={count === 0} onClick={handleDecrementClick}>-</button>\n            <h3 className=\"product-count\">{count ? count : \"\"}</h3>\n            <button className=\"product-add\" onClick={handleIncrementClick}>+</button>\n        </div>\n    </div>\n}","import React from \"react\";\nimport Product from \"./Product\";\n\nexport default function ProductsList(props) {\n\n    return <ul className=\"store-front\">\n        {props.products.map(product => <li key={product.id}>\n            <Product details={product} />\n            <button className=\"btn-outline btn-delete\" onClick={() => props.onDeleteClick(product.id)}>Delete</button>\n        </li>)}\n    </ul>;\n}","import React from \"react\";\n\nexport default function AddProductForm(props) {\n    return <form onSubmit={props.onFormSubmit}>\n        <div>\n            <label htmlFor=\"product-name\">Name:</label>\n            <input type=\"text\" value={props.name} onChange={props.onNameChange} id=\"product-name\" placeholder=\"Enter the name\" className=\"textfield\" />\n        </div>\n        <div>\n            <label htmlFor=\"product-description\">Description:</label>\n            <input type=\"text\" value={props.description} onChange={props.onDescriptionChange} id=\"product-description\" placeholder=\"Enter the description\" className=\"textfield\" />\n        </div>\n        <div className=\"form-footer\">\n            <div className=\"validation-message\">{props.validation}</div>\n            <input type=\"submit\" className=\"btn btn-primary\" value=\"Add product\" />\n        </div>\n    </form>;\n}","import React, {useState, useEffect} from \"react\";\nimport ProductsList from \"./ProductsList.js\";\nimport AddProductForm from \"./AddProductForm.js\";\nimport useFetch from \"./useFetch.js\";\n\nexport default function StoreFront() {\n    const [products, setProducts] = useState([]);\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [validation, setValidation] = useState(\"\");\n    const {post} = useFetch('https://api.learnjavascript.online/demo/react/admin/');\n\n    function postProduct(product) {\n        post('products', { name: product.name, description: product.description })\n            .then(data => console.log(data))\n            .catch(err => console.error(err));\n    }\n\n    function handleFormSubmit(event) {\n        event.preventDefault();\n\n        if (!name) {\n            setValidation(\"Please enter a name\");\n            return ;\n        }\n        if (!description){\n            setValidation(\"Please enter a description\");\n            return ;\n        }\n\n        const product = {\n            id: products.length + 1,\n            name: name,\n            description: description\n        }\n\n        postProduct(product);\n        setProducts([...products, product]);\n\n        setName(\"\");\n        setDescription(\"\");\n        setValidation(\"\");\n    }\n\n    function handleNameChange(event) {\n        setName(event.target.value);\n    }\n\n    function handleDescriptionChange(event) {\n        setDescription(event.target.value);\n    }\n\n    function handleDeleteClick(id) {\n        setProducts(products.filter(product => product.id !== id));\n    }\n\n    return <>\n        <AddProductForm name={name} description={description} validation={validation} onNameChange={handleNameChange} onDescriptionChange={handleDescriptionChange} onFormSubmit={handleFormSubmit} />\n        <div>{products.length === 0 && <p>Add your first product</p>}</div>\n        <ProductsList products={products} onDeleteClick={handleDeleteClick} />\n    </>;\n}","import { useState } from \"react\";\n\nexport default function useFetch(baseUrl) {\n    const [loading, setLoading] = useState(true);\n\n    function get(url) {\n        return new Promise((resolve, reject) => {\n            fetch(baseUrl + url)\n                .then(response => response.json())\n                .then(data => {\n                    if (!data) {\n                        setLoading(false);\n                        return reject(data);\n                    }\n                    setLoading(false);\n                    resolve(data);\n                })\n                .catch(error => {\n                    setLoading(false);\n                    reject(error);\n                });\n        });\n    }\n\n    function post(url, body) {\n        return new Promise((resolve, reject) => {\n            fetch(baseUrl + url, {\n                method: \"post\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(body)\n            })\n                .then(response => response.json())\n                .then(data => {\n                    if (!data) {\n                        setLoading(false);\n                        return reject(data);\n                    }\n                    setLoading(false);\n                    resolve(data);\n                })\n                .catch(error => {\n                    setLoading(false);\n                    reject(error);\n                });\n        });\n    }\n\n    return { get, post, loading };\n};","import React from \"react\";\nimport {render} from \"react-dom\";\nimport StoreFront from \"./StoreFront.js\";\n\nimport \"./index.css\";\n\nfunction App() {\n    return <StoreFront />;\n}\n\nrender(<App />, document.querySelector(\"#react-root\"));"],"sourceRoot":""}