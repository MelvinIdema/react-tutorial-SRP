(this["webpackJsonpproject-i"]=this["webpackJsonpproject-i"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(6),r=n(7),o=n(2),s=n(0);function a(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),i=n[0],r=n[1],a=e.details;return a?Object(s.jsxs)("div",{className:"product",children:[Object(s.jsxs)("div",{className:"product-info",children:[Object(s.jsx)("h2",{children:a.name}),Object(s.jsx)("p",{children:a.description})]}),Object(s.jsxs)("div",{className:"product-buttons",children:[Object(s.jsx)("button",{className:"product-sub",disabled:0===i,onClick:function(){i>0&&r(i-1)},children:"-"}),Object(s.jsx)("h3",{className:"product-count",children:i||""}),Object(s.jsx)("button",{className:"product-add",onClick:function(){r(i+1)},children:"+"})]})]}):null}function u(e){return Object(s.jsx)("ul",{className:"store-front",children:e.products.map((function(t){return Object(s.jsxs)("li",{children:[Object(s.jsx)(a,{details:t}),Object(s.jsx)("button",{className:"btn-outline btn-delete",onClick:function(){return e.onDeleteClick(t.id)},children:"Delete"})]},t.id)}))})}function l(e){return Object(s.jsxs)("form",{onSubmit:e.onFormSubmit,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"product-name",children:"Name:"}),Object(s.jsx)("input",{type:"text",value:e.name,onChange:e.onNameChange,id:"product-name",placeholder:"Enter the name",className:"textfield"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"product-description",children:"Description:"}),Object(s.jsx)("input",{type:"text",value:e.description,onChange:e.onDescriptionChange,id:"product-description",placeholder:"Enter the description",className:"textfield"})]}),Object(s.jsxs)("div",{className:"form-footer",children:[Object(s.jsx)("div",{className:"validation-message",children:e.validation}),Object(s.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Add product"})]})]})}function d(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(""),d=Object(o.a)(a,2),j=d[0],b=d[1],p=Object(c.useState)(""),h=Object(o.a)(p,2),f=h[0],m=h[1],O=Object(c.useState)(""),x=Object(o.a)(O,2),v=x[0],N=x[1],g=function(e){var t=Object(c.useState)(!0),n=Object(o.a)(t,2),i=n[0],r=n[1];return{get:function(t){return new Promise((function(n,c){fetch(e+t).then((function(e){return e.json()})).then((function(e){if(!e)return r(!1),c(e);r(!1),n(e)})).catch((function(e){r(!1),c(e)}))}))},post:function(t,n){return new Promise((function(c,i){fetch(e+t,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(!e)return r(!1),i(e);r(!1),c(e)})).catch((function(e){r(!1),i(e)}))}))},loading:i}}("https://api.learnjavascript.online/demo/react/admin/").post;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{name:j,description:f,validation:v,onNameChange:function(e){b(e.target.value)},onDescriptionChange:function(e){m(e.target.value)},onFormSubmit:function(e){if(e.preventDefault(),j)if(f){var t={id:n.length+1,name:j,description:f};!function(e){g("products",{name:e.name,description:e.description}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))}(t),i([].concat(Object(r.a)(n),[t])),b(""),m(""),N("")}else N("Please enter a description");else N("Please enter a name")}}),Object(s.jsx)("div",{children:0===n.length&&Object(s.jsx)("p",{children:"Add your first product"})}),Object(s.jsx)(u,{products:n,onDeleteClick:function(e){i(n.filter((function(t){return t.id!==e})))}})]})}n(13);function j(){return Object(s.jsx)(d,{})}Object(i.render)(Object(s.jsx)(j,{}),document.querySelector("#react-root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f15743c5.chunk.js.map